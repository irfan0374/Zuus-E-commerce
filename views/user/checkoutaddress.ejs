<%- include('./layouts/header.ejs')%>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.all.min.js"></script>
<style>
  /* Custom Styles */
  .card-title {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 20px;
  }

  .card-title::after {
    content: "";
    display: block;
    width: 40px;
    height: 2px;
    background-color: #ff6600;
    margin-top: 10px;
  }

  .form-group label {
    font-weight: bold;
  }

  .form-control:focus {
    box-shadow: none;
  }

  .btn-primary {
    background-color: #ff6600;
    border-color: #ff6600;
    transition: background-color 0.3s ease-in-out;
  }

  .btn-primary:hover {
    background-color: #cc5500;
    border-color: #cc5500;
  }
</style>
<br><br>
<br><br>
<title>Add Address</title>
</head>

<body>

  <!-- Main Content -->
  <section class="breadcrumb-option">
    <div class="container">
      <div class="row">
        <div class="col-lg-12">

        </div>
      </div>
    </div>
  </section>

  <section style="background-color: white">
    <div class="container py-5">
      <div class="row justify-content-center">
        <div class="col-lg-6">
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">Add Address</h5>
              <hr />
              <form action="/add_address1" method="post" onsubmit="return validateForm()">
                <div class="form-group">
                  <label for="firstName"><i class="fas fa-user"></i> Name</label>
                  <input type="text" class="form-control" name="fname" id="fname" placeholder="First name" required>
                </div>         
                <div class="form-group">
                  <label for="Email"><i class="fas fa-user"></i>Email</label>
                  <input type="email" class="form-control" name="email" id="email" placeholder="Enter Your Email" required>
                </div>
                <div class="form-group">
                  <label for="phone"><i class="fas fa-phone"></i> Phone</label>
                  <input type="tel" class="form-control" name="phone" id="phone" placeholder="Enter your phone number" required>
                </div>
                <div class="form-group">
                  <label for="address"><i class="fas fa-map-marker-alt"></i> Address</label>
                  <textarea class="form-control" name="address" id="address" rows="3" placeholder="Enter your address" required></textarea>
                </div>
                <div class="form-group">
                  <label for="state"><i class="fas fa-user"></i>State</label>
                  <input type="text" class="form-control" name="state" id="state" placeholder="state" required>
                </div>

                <div class="form-group">
                  <label for="pincode"><i class="fas fa-map-marker-alt"></i> Pin Code</label>
                  <input type="text" class="form-control" name="pin" id="pin" placeholder="Enter your Pin code" required>
                </div>

                <button type="submit" class="btn btn-primary"><i class="fas fa-save"></i> Save Address</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script>
    function validateForm() {
      const fname = document.getElementById('fname').value.trim();
      const email = document.getElementById('email').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const address = document.getElementById('address').value.trim();
      const state = document.getElementById('state').value.trim();
      const pin = document.getElementById('pin').value.trim();

      if (fname === '') {
        showAlert('Please enter your first name');
        return false;
      }

      if (email === '') {
        showAlert('Please enter your email');
        return false;
      }

      if (!validateEmail(email)) {
        showAlert('Please enter a valid email address');
        return false;
      }

      if (phone === '') {
        showAlert('Please enter your phone number');
        return false;
      }

      if (address === '') {
        showAlert('Please enter your address');
        return false;
      }
      
      if (state === '') {
        showAlert('Please enter your state');
        return false;
      }

      if (pin === '') {
        showAlert('Please enter your pin code');
        return false;
      }

      if (!validatePin(pin)) {
        showAlert('Please enter a valid pin code (6 digits)');
        return false;
      }

      return true;
    }

    function showAlert(message) {
      Swal.fire({
        icon: 'error',
        title: 'Oops...',
        text: message,
      });
    }

    function validateEmail(email) {
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return emailRegex.test(email);
    }

    function validatePin(pin) {
      const pinRegex = /^\d{6}$/;
      return pinRegex.test(pin);
    }
  </script>
</body>

</html>
